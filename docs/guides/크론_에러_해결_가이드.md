# í¬ë¡  ì—ëŸ¬ í•´ê²° ê°€ì´ë“œ

**ì‘ì„±ì¼**: 2026ë…„ 2ì›” 4ì¼

---

## ğŸ” ë°œê²¬ëœ í¬ë¡  ì—ëŸ¬

### 1. `/api/cron/aggregate-marketing-stats` - 500 ì—ëŸ¬

**ì—ëŸ¬ ë©”ì‹œì§€**:
```
Could not find the table 'public.marketing_stats_daily' in the schema cache
```

**ì›ì¸**:
- `marketing_stats_daily` í…Œì´ë¸”ì´ ë°ì´í„°ë² ì´ìŠ¤ì— ì¡´ì¬í•˜ì§€ ì•ŠìŒ
- ë§ˆì´ê·¸ë ˆì´ì…˜ `079_create_marketing_stats_daily.sql`ì´ ì ìš©ë˜ì§€ ì•Šì•˜ì„ ê°€ëŠ¥ì„±

**í•´ê²° ë°©ë²•**:
1. Supabase MCPë¥¼ ì‚¬ìš©í•˜ì—¬ ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒíƒœ í™•ì¸
2. `079_create_marketing_stats_daily.sql` ë§ˆì´ê·¸ë ˆì´ì…˜ ì ìš©
3. í•„ìš”ì‹œ `080_fix_cvr_precision.sql`ë„ í•¨ê»˜ ì ìš©

---

### 2. `/api/cron/webinar-access-snapshot` - 401 ì—ëŸ¬

**ì—ëŸ¬ ë©”ì‹œì§€**:
```
[Cron] ì¸ì¦ ì‹¤íŒ¨
```

**ì›ì¸**:
- Vercel Cronì´ ìë™ìœ¼ë¡œ `Authorization: Bearer {CRON_SECRET}` í—¤ë”ë¥¼ ì¶”ê°€í•´ì•¼ í•¨
- í™˜ê²½ ë³€ìˆ˜ `CRON_SECRET`ì´ ì„¤ì •ë˜ì§€ ì•Šì•˜ê±°ë‚˜ ê°’ì´ ë§ì§€ ì•ŠìŒ

**í•´ê²° ë°©ë²•**:
1. Vercel Dashboard â†’ Settings â†’ Environment Variables í™•ì¸
2. `CRON_SECRET` í™˜ê²½ ë³€ìˆ˜ê°€ ì„¤ì •ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸
3. ì„¤ì •ë˜ì–´ ìˆì§€ ì•Šìœ¼ë©´ ìƒì„± (ëœë¤ ë¬¸ìì—´ ê¶Œì¥)
4. ì„¤ì •ë˜ì–´ ìˆìœ¼ë©´ ê°’ì´ ì½”ë“œì™€ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸

---

## ğŸ“‹ í•´ê²° ì²´í¬ë¦¬ìŠ¤íŠ¸

### ë§ˆì´ê·¸ë ˆì´ì…˜ í™•ì¸ ë° ì ìš©
- [ ] Supabase MCPë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒíƒœ í™•ì¸
- [ ] `079_create_marketing_stats_daily.sql` ì ìš© ì—¬ë¶€ í™•ì¸
- [ ] ë¯¸ì ìš© ì‹œ ë§ˆì´ê·¸ë ˆì´ì…˜ ì ìš©

### CRON_SECRET í™˜ê²½ ë³€ìˆ˜ í™•ì¸
- [ ] Vercel Dashboard â†’ Settings â†’ Environment Variables
- [ ] `CRON_SECRET` í™˜ê²½ ë³€ìˆ˜ ì¡´ì¬ ì—¬ë¶€ í™•ì¸
- [ ] ì—†ìœ¼ë©´ ìƒì„± (ì˜ˆ: `openssl rand -hex 32`)
- [ ] Production, Preview, Development ëª¨ë‘ ì„¤ì •

---

## ğŸ”§ CRON_SECRET ìƒì„± ë°©ë²•

### ë¡œì»¬ì—ì„œ ìƒì„±:
```bash
# PowerShell
[Convert]::ToBase64String([System.Text.Encoding]::UTF8.GetBytes([System.Guid]::NewGuid().ToString() + [System.Guid]::NewGuid().ToString()))

# ë˜ëŠ” ê°„ë‹¨í•˜ê²Œ
node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
```

### Vercelì—ì„œ ì„¤ì •:
1. Vercel Dashboard â†’ í”„ë¡œì íŠ¸ ì„ íƒ
2. Settings â†’ Environment Variables
3. Add New:
   - Key: `CRON_SECRET`
   - Value: ìƒì„±í•œ ëœë¤ ë¬¸ìì—´
   - Environment: Production, Preview, Development ëª¨ë‘ ì„ íƒ
4. Save

---

## ğŸ“ ì°¸ê³  ì‚¬í•­

### Vercel Cron ë™ì‘ ë°©ì‹
- Vercel Cronì€ ìë™ìœ¼ë¡œ `Authorization: Bearer {CRON_SECRET}` í—¤ë”ë¥¼ ì¶”ê°€
- í™˜ê²½ ë³€ìˆ˜ `CRON_SECRET`ì´ ì„¤ì •ë˜ì–´ ìˆì–´ì•¼ í•¨
- ë¡œì»¬ í…ŒìŠ¤íŠ¸ ì‹œì—ëŠ” ì¿¼ë¦¬ íŒŒë¼ë¯¸í„° `?secret=...` ì‚¬ìš© ê°€ëŠ¥

### ë§ˆì´ê·¸ë ˆì´ì…˜ ì ìš©
- Supabase MCPë¥¼ ì‚¬ìš©í•˜ì—¬ ë§ˆì´ê·¸ë ˆì´ì…˜ ì ìš©
- ë˜ëŠ” Supabase Dashboardì—ì„œ ì§ì ‘ SQL ì‹¤í–‰

---

**ì‘ì„±ì**: AI Assistant  
**ìµœì¢… ì—…ë°ì´íŠ¸**: 2026ë…„ 2ì›” 4ì¼
