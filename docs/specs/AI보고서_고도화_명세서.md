ì¢‹ì•„. **ë„¤ê°€ ë§í•œ ë°©ì‹(ê¸°ì´ˆ ë¶„ì„ì€ MDì—ì„œ ëë‚´ê³  â†’ LLMì—ê²Œ â€œê³ ë„í™” ë³´ê³ ì„œâ€ë§Œ ë§¡ê¸°ê¸°)**ê°€ ì œì¼ í˜„ì‹¤ì ì´ê³ , **ë¬¸í•­ì´ ë°”ë€Œì–´ë„ ê·¸ëŒ€ë¡œ ì¬ì‚¬ìš©**í•  ìˆ˜ ìˆê²Œ ë§Œë“¤ ìˆ˜ ìˆì–´.

í•µì‹¬ì€ â€œë¬¸í•­ë³„ ë§ì¶¤ íŒŒì¸íŠœë‹â€ì´ ì•„ë‹ˆë¼,

* **ì„œë²„ê°€ ë¬¸í•­ì´ ë­ë“  í•­ìƒ ë§Œë“¤ ìˆ˜ ìˆëŠ” â€˜í‘œì¤€ ë¶„ì„íŒ©(Analysis Pack)â€™**ì„ ë§Œë“¤ê³ 
* LLMì€ ê·¸ íŒ©ì„ ì½ê³  **ì˜ì‚¬ê²°ì • ë¬¸ì„œ(Decision-grade report)**ë¡œ â€œí¸ì§‘/ì •ë¦¬/ì¶”ì²œâ€ë§Œ í•˜ê²Œ í•˜ëŠ” ê²ƒ

ì´ë ‡ê²Œ í•˜ë©´ ë¬¸í•­ì´ ë°”ë€Œì–´ë„ **íŒŒì´í”„ë¼ì¸ì€ ë™ì¼**, ëª¨ë¸ í”„ë¡¬í”„íŠ¸ë„ ê±°ì˜ ê·¸ëŒ€ë¡œ ì”ë‹ˆë‹¤.

ì•„ë˜ëŠ” **ë„¤ê°€ ë§í•œ ê°œì„ (ìˆ«ì ì¼ê´€ì„±, Evidence Catalog, Decision Cards, Confidence, Action Board)ì„ ì „ë¶€ ì ìš©**í•˜ë©´ì„œë„
**ë¬¸í•­ì´ ë°”ë€Œì–´ë„ ê·¸ëŒ€ë¡œ ë™ì‘**í•˜ë„ë¡ ë§Œë“  â€œë²”ìš© ì„¤ê³„â€ì…ë‹ˆë‹¤. (Cursorì— ë°”ë¡œ ë˜ì ¸ë„ ë¨)

---

# 1) ìµœì¢… êµ¬ì¡°: 2ë‹¨ê³„ íŒŒì´í”„ë¼ì¸

## A. ê¸°ì´ˆ ë¶„ì„(Deterministic, MD/JSON ìƒì„±)

ë¬¸í•­ì´ ë­ë“  í•­ìƒ ê°€ëŠ¥í•œ ê²ƒë§Œ ìƒì„±:

* ìº í˜ì¸ ë©”íƒ€(í‘œë³¸ N, ì‹œì , ë¬¸í•­ ë¦¬ìŠ¤íŠ¸)
* ë¬¸í•­ë³„ ë¶„í¬/ìš”ì•½(ê°ê´€ì‹/ë³µìˆ˜/í‰ì /í…ìŠ¤íŠ¸)
* êµì°¨í‘œ(crosstab) + í•˜ì´ë¼ì´íŠ¸(Top associations)
* ë°ì´í„° í’ˆì§ˆ(ê²°ì¸¡/í‘œë³¸ ê²½ê³ /ì…€ N<5 ê²½ê³ )
* **Evidence Catalog(E1..En)** â† *í•­ìƒ ìƒì„±*
* (ì˜µì…˜) Lead Queue / Priority Queue â† *íƒœê·¸ê°€ ìˆì„ ë•Œë§Œ ìƒì„±*

ğŸ‘‰ ì´ ë‹¨ê³„ ê²°ê³¼ë¥¼ **MDë¡œ ë‹¤ìš´ë¡œë“œ ê°€ëŠ¥**í•˜ê²Œ ìœ ì§€ (ë„¤ê°€ ì›í•˜ëŠ” ë°©ì‹)

## B. ê³ ë„í™” ë³´ê³ ì„œ(LLM, Decision-grade)

LLMì— ë˜ì§ˆ ì…ë ¥ì€ **ê¸°ì´ˆ ë¶„ì„íŒ©(Analysis Pack)** í•œ ë©ì–´ë¦¬(í…ìŠ¤íŠ¸ + JSON ë¸”ë¡)ë¡œ ê³ ì •.

LLMì€ ì—¬ê¸°ì„œ:

* Decision Cards(ì˜µì…˜ ë¹„êµ + ì¶”ì²œ + ê·¼ê±°ID + ê¸°ëŒ€íš¨ê³¼/ë¦¬ìŠ¤í¬)
* Action Board(24h/7d/14d)
* Playbook(ì„¸ê·¸ë¨¼íŠ¸ë³„ ì„¸ì¼ì¦ˆ/ë§ˆì¼€íŒ… ì‚°ì¶œë¬¼)
* ì¶”ê°€ ì„¤ë¬¸ ê°œì„ (â€œë‹¤ìŒì— ë¬¼ì–´ë³¼ ê²ƒâ€)
  ë§Œ ì‘ì„±

ê·¸ë¦¬ê³  ì¤‘ìš”í•œ ê·œì¹™:

* **ìˆ«ì/ì¹´ìš´íŠ¸/ë¹„ìœ¨ì€ ë°˜ë“œì‹œ Evidence Catalogì—ì„œë§Œ ì¸ìš©**
* ì—†ëŠ” ìˆ«ìëŠ” â€œUnknownâ€ ì²˜ë¦¬

---

# 2) â€œë¬¸í•­ì´ ë°”ë€Œì–´ë„ ë˜ëŠ”â€ í•µì‹¬ ì„¤ê³„ í¬ì¸íŠ¸ 4ê°œ

## (1) Evidence IDë¥¼ â€œë¬¸í•­ì— ì¢…ì†â€ì‹œí‚¤ì§€ ë§ê³  â€œíŒ©ì— ì¢…ì†â€

ë¬¸í•­ì´ ë°”ë€Œë©´ Q1/Q2 ê°™ì€ ë²ˆí˜¸ê°€ í”ë“¤ë¦¬ë‹ˆê¹Œ,
Evidence IDëŠ” **íŒ© ìƒì„± ì‹œì ì— ìë™ ë¶€ì—¬(E1..En)** í•˜ê³ , ì„¤ëª…ì„ í•¨ê»˜ ë„£ì–´ì¤˜.

* E1: â€œë¬¸í•­ A ë¶„í¬(Top choices)â€
* E2: â€œë¬¸í•­ B ë¶„í¬â€
* E7: â€œë¬¸í•­ A Ã— ë¬¸í•­ C êµì°¨í‘œ highlightâ€
* E12: â€œë°ì´í„° í’ˆì§ˆ: ì…€ N<5 ê²½ê³ â€

LLMì€ **E1/E7 ê°™ì€ IDë¥¼ ë§í¬ì²˜ëŸ¼ ì°¸ì¡°**ë§Œ í•œë‹¤.

## (2) êµì°¨ë¶„ì„ì€ â€˜ì—­í•  íƒœê·¸â€™ ì—†ì´ë„ ëŒì•„ê°€ì•¼ í•¨ (ì œë¡œ ì„¤ì •)

íƒœê·¸ë¥¼ ì•ˆ ë¶™ì—¬ë„ ëŒì•„ê°€ê²Œ í•˜ë ¤ë©´,
ì„œë²„ì—ì„œ ë‹¤ìŒ ê·œì¹™ìœ¼ë¡œ êµì°¨ë¶„ì„ í›„ë³´ë¥¼ ìë™ ì„ ì •í•˜ë©´ ë¨:

* ê°ê´€ì‹(single)/ë³µìˆ˜(multi) ë¬¸í•­ ì¤‘

  * ì‘ë‹µë¥  ë†’ê³ 
  * ë¶„ì‚°(ì—”íŠ¸ë¡œí”¼)ì´ í° ìƒìœ„ Kê°œ ì„ íƒ
* ê·¸ë“¤ ê°„ ìŒ(pair)ì„ ë§Œë“¤ì–´

  * CramÃ©râ€™s V(ë²”ì£¼í˜• ì—°ê´€) ë˜ëŠ” lift ê¸°ë°˜ìœ¼ë¡œ ìƒìœ„ 5ê°œ í•˜ì´ë¼ì´íŠ¸ë§Œ ë½‘ê¸°

â†’ ë¬¸í•­ì´ ë°”ë€Œì–´ë„ â€œì˜ë¯¸ ìˆëŠ” ê´€ê³„â€ê°€ ìë™ìœ¼ë¡œ ë½‘íŒë‹¤.

## (3) Priority Queue(ë¦¬ë“œ ìš°ì„ ìˆœìœ„)ëŠ” â€œì˜µì…˜ ê¸°ëŠ¥â€ìœ¼ë¡œ

ë¬¸í•­ë§ˆë‹¤ ë¦¬ë“œ ìŠ¤ì½”ì–´ë§ì´ ê°€ëŠ¥í•œ ê±´ ì•„ë‹ˆë‹ˆê¹Œ,
Priority QueueëŠ” **ê¸°ë³¸ OFF(ë˜ëŠ” Not Available)** ê°€ ë§ë‹¤.

* ìº í˜ì¸ì— `analysisTags`ê°€ ì„¤ì •ë˜ì–´ ìˆì„ ë•Œë§Œ(ì˜ˆ: timeframe, followupIntent, budget ë“±)

  * deterministic scoringìœ¼ë¡œ P0~P4 ìƒì„±
* íƒœê·¸ê°€ ì—†ìœ¼ë©´:

  * â€œì´ë²ˆ ì„¤ë¬¸ì€ ë¦¬ë“œ ìŠ¤ì½”ì–´ë§ì— í•„ìš”í•œ ì§ˆë¬¸ì´ ì—†ì–´ Priority QueueëŠ” ìƒì„±í•˜ì§€ ì•ŠìŒâ€
  * ëŒ€ì‹  Decision Cards/Action BoardëŠ” â€œì„¸ê·¸ë¨¼íŠ¸ ê¸°ë°˜â€ìœ¼ë¡œ ìƒì„±

## (4) ìˆ«ì ì¼ê´€ì„±ì€ AIê°€ ì•„ë‹ˆë¼ ì„œë²„ê°€ ê°•ì œë¡œ ë³´ì¥(í•„ìˆ˜)

â€œP0 0ëª…ì¸ë° Action Boardì—” 11ëª…â€ ê°™ì€ ëª¨ìˆœì€ **ì„œë²„ ë³‘í•© ì •ì±…ìœ¼ë¡œ ì˜êµ¬ ë°©ì§€**:

* Priority Queueê°€ ì¡´ì¬í•˜ë©´:

  * `Î£(P0..P4) == N` ê²€ì¦ ì‹¤íŒ¨ ì‹œ ì €ì¥ ê¸ˆì§€
* ëª¨ë“  â€œëŒ€ìƒ ìˆ˜ëŸ‰â€ì€ Evidence Catalogì—ì„œë§Œ ê°€ì ¸ì˜¤ê²Œ ë§Œë“¤ê³ ,
* LLMì´ ì¶œë ¥í•œ ìˆ«ìëŠ” ì €ì¥ ì „ì— ë®ì–´ì“°ê¸°/ê²€ì¦

---

# 3) Analysis Pack(ê¸°ì´ˆ ë¶„ì„íŒ©) í‘œì¤€ í¬ë§·

ê¸°ì´ˆ ë¶„ì„ MD íŒŒì¼ì— **ì•„ë˜ JSON ë¸”ë¡ì„ í•­ìƒ í¬í•¨**ì‹œí‚¤ë©´ ë¬¸í•­ì´ ë°”ë€Œì–´ë„ LLMì´ ì•ˆì •ì ìœ¼ë¡œ ì½ìŠµë‹ˆë‹¤.

### MD êµ¬ì¡° ê¶Œì¥

1. ì‚¬ëŒì´ ì½ëŠ” ìš”ì•½(ê°„ë‹¨)
2. `BEGIN_ANALYSIS_PACK_JSON` ë¸”ë¡(ë¨¸ì‹ ë¦¬ë”ë¸”)
3. ë¶€ë¡(í‘œ/êµì°¨í‘œ ìƒì„¸)

ì˜ˆì‹œ:

````md
# Survey Analysis Pack (Base)

## Summary
- N=50, Questions=3
- Key highlights: H1, H2

## BEGIN_ANALYSIS_PACK_JSON
```json
{
  "version": "ap-1.0",
  "campaign": {
    "id": "â€¦",
    "title": "â€¦",
    "analyzedAtISO": "â€¦",
    "sampleCount": 50,
    "totalQuestions": 3
  },
  "questions": [
    {
      "qid": "uuid",
      "label": "Q1",
      "type": "single",
      "text": "â€¦",
      "responseCount": 50,
      "topOptions": [
        {"text":"â€¦", "count":17, "pct":34.0}
      ]
    }
  ],
  "evidenceCatalog": [
    {
      "id": "E1",
      "title": "Q1 ë¶„í¬(í”„ë¡œì íŠ¸ ì‹œì )",
      "valueText": "1ì£¼ ì´ë‚´ 34% (17/50)",
      "n": 50,
      "source": "question_distribution",
      "confidence": "Confirmed"
    }
  ],
  "crosstabs": [
    {
      "id": "CT1",
      "row": "Q1",
      "col": "Q3",
      "cells": [
        {"rowKey":"1ì£¼ ì´ë‚´","colKey":"ì˜¨ë¼ì¸ ë¯¸íŒ…","count":6,"rowPct":35.3,"overallPct":26.0,"lift":1.36}
      ],
      "minCellCount": 2
    }
  ],
  "highlights": [
    {
      "id": "H1",
      "title": "1ì£¼ ì´ë‚´ ê·¸ë£¹ì—ì„œ ì˜¨ë¼ì¸ ë¯¸íŒ… ì„ í˜¸ê°€ ì „ì²´ ëŒ€ë¹„ ë†’ìŒ",
      "evidenceIds": ["E1","E7"],
      "statement": "1ì£¼ ì´ë‚´ ê·¸ë£¹ì˜ ì˜¨ë¼ì¸ ë¯¸íŒ… ë¹„ì¤‘ 35.3% vs ì „ì²´ 26.0% (lift 1.36, 6/17)",
      "confidence": "Directional"
    }
  ],
  "dataQuality": [
    {"level":"info","message":"í‘œë³¸ N=50, ë¶„í¬/ë°©í–¥ì„± íŒŒì•…ì— ì¶©ë¶„"},
    {"level":"warning","message":"êµì°¨í‘œ ì¼ë¶€ ì…€ N<5 â†’ ì„¸ë¶€ ê²°ë¡ ì€ ê°€ì„¤ë¡œë§Œ"}
  ],
  "leadQueue": null
}
````

## END_ANALYSIS_PACK_JSON

````

> **ì´ JSONì´ â€˜ë¬¸í•­ì´ ë°”ë€Œì–´ë„ ë³€í•˜ì§€ ì•ŠëŠ” ê³„ì•½(Contract)â€™** ì—­í• ì„ í•´ìš”.

---

# 4) LLMì—ê²Œ ë§¡ê¸¸ ì¶œë ¥: â€œDecision Packâ€ (ë²”ìš©, ë¬¸í•­ ë…ë¦½)

LLM ì¶œë ¥ë„ ë¬¸í•­ê³¼ ë¬´ê´€í•˜ê²Œ ê³ ì • êµ¬ì¡°ë¡œ ì œí•œí•˜ë©´, í’ˆì§ˆì´ ì•ˆì •ë©ë‹ˆë‹¤.

### Decision Pack v1 (ì¶”ì²œ ìŠ¤í‚¤ë§ˆ: ë‹¨ìˆœ/ì•ˆì •)
- Decision Cards(3~5)
- Action Board(24h/7d/14d)
- Playbooks(ì„¸ì¼ì¦ˆ/ë§ˆì¼€íŒ…)
- Survey ê°œì„ (ì¶”ê°€ ì§ˆë¬¸ ì œì•ˆ)

**LLMì—ê²Œ ì ˆëŒ€ ì‹œí‚¤ì§€ ë§ ê²ƒ**
- í¼ì„¼íŠ¸ ê³„ì‚°
- ë¦¬ë“œ í‹°ì–´ í•©ê³„
- â€œìœ ì˜ì„± í™•ë³´â€ ê°™ì€ í†µê³„ ë‹¨ì •

---

# 5) ë³´ê³ ì„œ â€œì „ë¬¸ì„±â€ì„ ë³´ì¥í•˜ëŠ” Linter ê·œì¹™ (ë¬¸í•­ ë°”ë€Œì–´ë„ ë™ì¼)

ì•„ë˜ ê·œì¹™ì€ ë¬¸í•­ì´ ë°”ë€Œì–´ë„ ê·¸ëŒ€ë¡œ ì ìš© ê°€ëŠ¥í•˜ê³ , í—ˆì ‘í•¨ì„ ê°•í•˜ê²Œ ì¤„ì—¬ì¤ë‹ˆë‹¤.

## ì €ì¥ ê¸ˆì§€(FAIL) ì¡°ê±´
1) Decision Card < 3ê°œ
2) ëª¨ë“  Decision Cardì— `evidenceIds`ê°€ 2ê°œ ë¯¸ë§Œ
3) Action Boardì— â€œëŒ€ìƒ ìˆ˜ëŸ‰/ëª©í‘œ KPIâ€ê°€ í•˜ë‚˜ë„ ì—†ìŒ  
4) `important / need / should`ë¥˜ ë¬¸ì¥ë§Œ ìˆê³  ë™ì‚¬í˜• ì•¡ì…˜ì´ ì—†ìŒ  
5) Evidence Catalogì˜ ìˆ«ìì™€ Actionì˜ ìˆ«ìê°€ ëª¨ìˆœ(ê°€ëŠ¥í•˜ë©´ ì„œë²„ì—ì„œ ë®ì–´ì“°ê¸°)

## í†µê³¼(PASS) ì¡°ê±´
- ê° ê²°ë¡ ì— Confidence(Confirmed/Directional/Hypothesis) ë¼ë²¨ ì¡´ì¬
- ê° Decision CardëŠ” Options(A/B/C) ë¹„êµ í¬í•¨
- Actionì€ Owner/Due/KPI í¬í•¨

---

# 6) UI/PDF êµ¬ì„±(ë¬¸í•­ ë°”ë€Œì–´ë„ ë™ì¼ í…œí”Œë¦¿)

ë„ˆê°€ ì›í•œ ìƒë‹¨ ìˆœì„œëŠ” ìœ ì§€ + Decision ì¤‘ì‹¬ ì„¹ì…˜ ì¶”ê°€:

1) ê³ ì • ì‹ ë¢° ë¬¸êµ¬(ì„œë²„ ì‚½ì…)
2) ë¶„ì„ëŒ€ìƒ ìš”ì•½
3) ë ˆí¼ëŸ°ìŠ¤ ìš”ì•½
4) ë„ë„› ìš”ì•½(ìƒìœ„ ë¬¸í•­ ìë™ ì„ ì •)
5) **Evidence Catalog (E1~E10)** â† ì§§ê²Œ
6) **Decision Cards (3~5)**
7) **Action Board (24h/7d/14d)**
8) Playbooks(ì„¸ì¼ì¦ˆ/ë§ˆì¼€íŒ…)
9) Data Quality & Limits
10) Appendix(êµì°¨í‘œ/ë¬¸í•­ë³„ ìƒì„¸)

PDFë„ ê°™ì€ ë ˆì´ì•„ì›ƒìœ¼ë¡œ print viewë¥¼ ë Œë”ë§í•˜ë©´ ë¬¸í•­ì´ ë°”ë€Œì–´ë„ ë¬¸ì œ ì—†ìŒ.

---

# 7) â€œìµœì†Œ ì„¤ì •â€ ì˜µì…˜ë§Œ ì¶”ê°€í•˜ë©´ í’ˆì§ˆì´ ë” ì˜¬ë¼ê° (í•˜ì§€ë§Œ í•„ìˆ˜ëŠ” ì•„ë‹˜)

ë¬¸í•­ì´ ë°”ë€Œì–´ë„ ëŒì•„ê°€ê²Œ í•˜ë ¤ë©´ ì œë¡œ ì„¤ì •ì´ ê¸°ë³¸ì´ ë§ê³ ,  
ë‹¤ë§Œ ë¦¬ë“œ ìš°ì„ ìˆœìœ„(P0~P4)ë¥¼ ì œëŒ€ë¡œ í•˜ê³  ì‹¶ìœ¼ë©´, â€œíŒŒì¸íŠœë‹â€ì´ ì•„ë‹ˆë¼ **ê°€ë²¼ìš´ íƒœê·¸ ì„¤ì •**ë§Œ ìˆìœ¼ë©´ ë¨:

- `analysisTag`: `timeframe`, `followup_intent`, `budget`, `decision_power`, `pain_point`, `use_case`
- íƒœê·¸ê°€ ì—†ìœ¼ë©´ Priority QueueëŠ” ìˆ¨ê¸°ê³ ,
- íƒœê·¸ê°€ ìˆìœ¼ë©´ deterministic scoring ON

ì´ê±´ ë¬¸í•­ì´ ë°”ë€Œì–´ë„ â€œíƒœê·¸ë§Œ ë°”ê¾¸ë©´â€ ëì´ë¼ ìš´ì˜ ë¶€ë‹´ì´ ì‘ì•„ìš”.

---

# 8) Cursorì— ë°”ë¡œ ë˜ì§ˆ â€œêµ¬í˜„ ëª…ì„¸â€ (ìš”ì•½ë³¸)

```md
# Cursor Spec: MD Base Analysis â†’ LLM Decision Report (Question-agnostic)

## Goal
- Base ë¶„ì„ì€ ì„œë²„ì—ì„œ MD+JSON(AnalysisPack)ë¡œ ìƒì„±
- LLMì€ AnalysisPackì„ ì…ë ¥ìœ¼ë¡œ DecisionPack ìƒì„±
- ë¬¸í•­ì´ ë°”ë€Œì–´ë„ ë™ì¼ í…œí”Œë¦¿/ë™ì¼ ë£°ë¡œ ë™ì‘

## Base(Deterministic) Output: AnalysisPack(ap-1.0)
- campaign meta
- questions stats(topOptions)
- evidenceCatalog(E1..En)
- crosstabs + highlights(H1..H5)
- dataQuality messages
- leadQueue optional (tags ìˆì„ ë•Œë§Œ)

## LLM Output: DecisionPack(dp-1.0)
- decisionCards(>=3, options A/B/C, evidenceIds, confidence)
- actionBoard(24h/7d/14d: owner/due/targetCount/kpi)
- playbooks(sales/marketing)
- surveyNextQuestions

## Server Merge Rules
- ìˆ« provide: evidenceCatalog ê¸°ë°˜ë§Œ í—ˆìš©(LLM ìˆ«ì ê²€ì¦/ë®ì–´ì“°ê¸°)
- leadQueueëŠ” ì„œë²„ ê³„ì‚°(ìˆì„ ë•Œë§Œ ë…¸ì¶œ)
- Î£(P0..P4)==N ê²€ì¦ ì‹¤íŒ¨ ì‹œ ì €ì¥ ê¸ˆì§€

## Linter
- decisionCards>=3
- each card evidenceIds>=2
- actionBoardì— targetCount/kpi ì¡´ì¬
- placeholder/ëª¨í˜¸ í‘œí˜„ ê°ì  ë° ì¬ì‹œë„
````

---

# 9) êµ¬í˜„ ë‹¨ê³„ë³„ ë¡œë“œë§µ

## Phase 1: ê¸°ì´ˆ ë¶„ì„íŒ© ìƒì„± (Deterministic) - 1ì£¼

### ì‘ì—… ëª©ë¡
- [ ] `buildAnalysisPack()` í•¨ìˆ˜ êµ¬í˜„
  - ìº í˜ì¸ ë©”íƒ€ ìˆ˜ì§‘
  - ë¬¸í•­ë³„ í†µê³„ ê³„ì‚° (`questionStats`)
  - êµì°¨í‘œ ìƒì„± (`buildCrosstabs`)
  - Evidence Catalog ìƒì„± (`buildEvidenceCatalog`)
  - ë°ì´í„° í’ˆì§ˆ í‰ê°€ (`buildDataQuality`)
- [ ] Analysis Pack JSON ìŠ¤í‚¤ë§ˆ ì •ì˜ (Zod)
- [ ] MD í…œí”Œë¦¿ ë Œë”ë§ (`renderAnalysisPackMD`)
- [ ] ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„±

### ì˜ì¡´ì„±
- ê¸°ì¡´ `buildComputedMetrics.ts` í™œìš©
- `question-stats` API ê²°ê³¼ í™œìš©

### ì˜ˆìƒ ì†Œìš” ì‹œê°„
- ê°œë°œ: 16ì‹œê°„
- í…ŒìŠ¤íŠ¸: 4ì‹œê°„
- ì´: 20ì‹œê°„

---

## Phase 2: LLM Decision Pack ìƒì„± - 1ì£¼

### ì‘ì—… ëª©ë¡
- [ ] `generateDecisionPack()` í•¨ìˆ˜ êµ¬í˜„
  - Analysis Packì„ í”„ë¡¬í”„íŠ¸ë¡œ ë³€í™˜
  - Gemini API í˜¸ì¶œ (Structured Output ë¹„í™œì„±í™”)
  - JSON íŒŒì‹± ë° ê²€ì¦
- [ ] Decision Pack ìŠ¤í‚¤ë§ˆ ì •ì˜ (Zod)
- [ ] í”„ë¡¬í”„íŠ¸ ì—”ì§€ë‹ˆì–´ë§ (system/user prompt)
- [ ] ì¬ì‹œë„ ë¡œì§ êµ¬í˜„ (ìµœëŒ€ 2íšŒ)

### ì˜ì¡´ì„±
- Phase 1 ì™„ë£Œ í•„ìš”
- `gemini.ts` ê¸°ì¡´ ì½”ë“œ í™œìš©

### ì˜ˆìƒ ì†Œìš” ì‹œê°„
- ê°œë°œ: 20ì‹œê°„
- í”„ë¡¬í”„íŠ¸ íŠœë‹: 8ì‹œê°„
- í…ŒìŠ¤íŠ¸: 4ì‹œê°„
- ì´: 32ì‹œê°„

---

## Phase 3: Linter ë° í’ˆì§ˆ ê²€ì¦ - 3ì¼

### ì‘ì—… ëª©ë¡
- [ ] `lintDecisionPack()` í•¨ìˆ˜ êµ¬í˜„
  - Decision Cards ê²€ì¦ (>=3ê°œ, evidenceIds >=2ê°œ)
  - Action Board ê²€ì¦ (targetCount/KPI ì¡´ì¬)
  - ìˆ«ì ì¼ê´€ì„± ê²€ì¦ (Evidence Catalog ê¸°ë°˜)
  - í”Œë ˆì´ìŠ¤í™€ë” ê°ì§€
- [ ] Linter ê²°ê³¼ë¥¼ ì¬ì‹œë„ í”„ë¡¬í”„íŠ¸ë¡œ ë³€í™˜
- [ ] í’ˆì§ˆ ê²Œì´íŠ¸ í†µí•©

### ì˜ì¡´ì„±
- Phase 2 ì™„ë£Œ í•„ìš”
- ê¸°ì¡´ `reportLinter.ts` í™•ì¥

### ì˜ˆìƒ ì†Œìš” ì‹œê°„
- ê°œë°œ: 12ì‹œê°„
- í…ŒìŠ¤íŠ¸: 4ì‹œê°„
- ì´: 16ì‹œê°„

---

## Phase 4: ì„œë²„ ë³‘í•© ë° ê²€ì¦ - 2ì¼

### ì‘ì—… ëª©ë¡
- [ ] `mergeAnalysisAndDecisionPack()` í•¨ìˆ˜ êµ¬í˜„
  - Analysis Pack + Decision Pack ë³‘í•©
  - ìˆ«ì ë®ì–´ì“°ê¸° (Evidence Catalog ìš°ì„ )
  - Priority Queue ì„œë²„ ê³„ì‚°ê°’ìœ¼ë¡œ êµì²´
  - `Î£(P0..P4) == N` ê²€ì¦
- [ ] ìµœì¢… ë³´ê³ ì„œ ìƒì„± (`renderFinalReportMD`)

### ì˜ì¡´ì„±
- Phase 1, 2, 3 ì™„ë£Œ í•„ìš”

### ì˜ˆìƒ ì†Œìš” ì‹œê°„
- ê°œë°œ: 8ì‹œê°„
- í…ŒìŠ¤íŠ¸: 4ì‹œê°„
- ì´: 12ì‹œê°„

---

## Phase 5: UI ë Œë”ë§ ë° PDF ìƒì„± - 1ì£¼

### ì‘ì—… ëª©ë¡
- [ ] UI ì»´í¬ë„ŒíŠ¸ ì—…ë°ì´íŠ¸
  - Evidence Catalog ì„¹ì…˜ ì¶”ê°€
  - Decision Cards ë Œë”ë§
  - Action Board ë Œë”ë§ (24h/7d/14d)
- [ ] PDF ìƒì„± ë¡œì§ êµ¬í˜„
  - Markdown â†’ PDF ë³€í™˜
  - ê·¸ë˜í”„ í¬í•¨ (ë„ë„› ì°¨íŠ¸ ë“±)
- [ ] ë‹¤ìš´ë¡œë“œ ê¸°ëŠ¥ (MD/PDF)

### ì˜ì¡´ì„±
- Phase 4 ì™„ë£Œ í•„ìš”
- ê¸°ì¡´ `renderMarkdown.ts` í™•ì¥

### ì˜ˆìƒ ì†Œìš” ì‹œê°„
- ê°œë°œ: 24ì‹œê°„
- í…ŒìŠ¤íŠ¸: 8ì‹œê°„
- ì´: 32ì‹œê°„

---

## Phase 6: í†µí•© í…ŒìŠ¤íŠ¸ ë° ìµœì í™” - 3ì¼

### ì‘ì—… ëª©ë¡
- [ ] E2E í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ ì‘ì„±
- [ ] ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ (ëŒ€ìš©ëŸ‰ ë°ì´í„°)
- [ ] ì—ëŸ¬ ì¼€ì´ìŠ¤ í…ŒìŠ¤íŠ¸
- [ ] ë¬¸ì„œí™” ì™„ë£Œ

### ì˜ˆìƒ ì†Œìš” ì‹œê°„
- í…ŒìŠ¤íŠ¸: 16ì‹œê°„
- ë¬¸ì„œí™”: 4ì‹œê°„
- ì´: 20ì‹œê°„

---

## ì „ì²´ ì¼ì • ìš”ì•½

| Phase | ì‘ì—… ë‚´ìš© | ì˜ˆìƒ ì†Œìš” ì‹œê°„ | ì˜ì¡´ì„± |
|-------|----------|--------------|--------|
| Phase 1 | ê¸°ì´ˆ ë¶„ì„íŒ© ìƒì„± | 20ì‹œê°„ | - |
| Phase 2 | LLM Decision Pack ìƒì„± | 32ì‹œê°„ | Phase 1 |
| Phase 3 | Linter ë° í’ˆì§ˆ ê²€ì¦ | 16ì‹œê°„ | Phase 2 |
| Phase 4 | ì„œë²„ ë³‘í•© ë° ê²€ì¦ | 12ì‹œê°„ | Phase 1,2,3 |
| Phase 5 | UI ë Œë”ë§ ë° PDF ìƒì„± | 32ì‹œê°„ | Phase 4 |
| Phase 6 | í†µí•© í…ŒìŠ¤íŠ¸ ë° ìµœì í™” | 20ì‹œê°„ | Phase 5 |
| **ì´ê³„** | | **132ì‹œê°„ (ì•½ 3.3ì£¼)** | |

---

# 10) ì—ëŸ¬ ì²˜ë¦¬ ë° ì¬ì‹œë„ ì „ëµ

## LLM í˜¸ì¶œ ì‹¤íŒ¨ ì‹œë‚˜ë¦¬ì˜¤

### ì‹œë‚˜ë¦¬ì˜¤ 1: API í˜¸ì¶œ ì‹¤íŒ¨ (ë„¤íŠ¸ì›Œí¬/íƒ€ì„ì•„ì›ƒ)
**ì²˜ë¦¬ ë°©ë²•:**
```typescript
async function generateDecisionPackWithRetry(
  analysisPack: AnalysisPack,
  maxRetries = 2
): Promise<DecisionPack> {
  let lastError: Error | null = null
  
  for (let attempt = 0; attempt <= maxRetries; attempt++) {
    try {
      return await generateDecisionPack(analysisPack)
    } catch (error: any) {
      lastError = error
      
      // ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ì¸ ê²½ìš°ì—ë§Œ ì¬ì‹œë„
      if (error.code === 'ECONNRESET' || error.code === 'ETIMEDOUT') {
        if (attempt < maxRetries) {
          const delay = Math.pow(2, attempt) * 1000 // Exponential backoff
          await new Promise(resolve => setTimeout(resolve, delay))
          console.log(`[Decision Pack] ì¬ì‹œë„ ${attempt + 1}/${maxRetries}...`)
          continue
        }
      }
      
      // ë‹¤ë¥¸ ì˜¤ë¥˜ëŠ” ì¦‰ì‹œ throw
      throw error
    }
  }
  
  throw lastError || new Error('Decision Pack ìƒì„± ì‹¤íŒ¨: ìµœëŒ€ ì¬ì‹œë„ íšŸìˆ˜ ì´ˆê³¼')
}
```

### ì‹œë‚˜ë¦¬ì˜¤ 2: JSON íŒŒì‹± ì‹¤íŒ¨
**ì²˜ë¦¬ ë°©ë²•:**
- LLM ì‘ë‹µì—ì„œ JSON ë¸”ë¡ ì¶”ì¶œ (`BEGIN_DECISION_PACK_JSON` ~ `END_DECISION_PACK_JSON`)
- JSON íŒŒì‹± ì‹¤íŒ¨ ì‹œ ì¬ì‹œë„ (í”„ë¡¬í”„íŠ¸ ê°•í™”)
- ìµœëŒ€ 2íšŒ ì¬ì‹œë„ í›„ ì‹¤íŒ¨ ì‹œ Fallback: "ë¶„ì„ ìƒì„± ì‹¤íŒ¨" ë©”ì‹œì§€ ë°˜í™˜

### ì‹œë‚˜ë¦¬ì˜¤ 3: Zod ìŠ¤í‚¤ë§ˆ ê²€ì¦ ì‹¤íŒ¨
**ì²˜ë¦¬ ë°©ë²•:**
```typescript
async function generateDecisionPack(
  analysisPack: AnalysisPack,
  retryIssues?: z.ZodIssue[]
): Promise<DecisionPack> {
  const prompt = buildPrompt(analysisPack, retryIssues)
  const response = await callGeminiAPI(prompt)
  const parsed = extractJSON(response)
  
  // Zod ê²€ì¦
  const result = DecisionPackSchema.safeParse(parsed)
  
  if (!result.success) {
    // ê²€ì¦ ì‹¤íŒ¨ ì‹œ ì¬ì‹œë„ (ê²€ì¦ ì˜¤ë¥˜ë¥¼ í”„ë¡¬í”„íŠ¸ì— í¬í•¨)
    throw new Error('Schema validation failed') as any
    error.issues = result.error.issues
    throw error
  }
  
  return result.data
}
```

### ì‹œë‚˜ë¦¬ì˜¤ 4: Linter í’ˆì§ˆ ê²€ì¦ ì‹¤íŒ¨
**ì²˜ë¦¬ ë°©ë²•:**
- Linter ê²½ê³ ë¥¼ `qualityPrompt`ë¡œ ë³€í™˜
- ì¬ì‹œë„ ì‹œ í’ˆì§ˆ ê°œì„  ìš”ì²­ í¬í•¨
- ìµœëŒ€ 2íšŒ ì¬ì‹œë„ í›„ì—ë„ ì‹¤íŒ¨ ì‹œ:
  - ê²½ê³ ê°€ `warning` ë ˆë²¨ë§Œ ìˆìœ¼ë©´ ì €ì¥ í—ˆìš© (ë¡œê·¸ ê¸°ë¡)
  - ê²½ê³ ê°€ `error` ë ˆë²¨ì´ë©´ ì €ì¥ ê¸ˆì§€

## Fallback ë©”ì»¤ë‹ˆì¦˜

### Fallback 1: LLM ì™„ì „ ì‹¤íŒ¨ ì‹œ
```typescript
try {
  decisionPack = await generateDecisionPackWithRetry(analysisPack)
} catch (error) {
  console.error('[Decision Pack] ìƒì„± ì‹¤íŒ¨:', error)
  
  // Fallback: ê¸°ë³¸ êµ¬ì¡°ë§Œ ìƒì„±
  decisionPack = {
    version: 'dp-1.0',
    decisionCards: [],
    actionBoard: { d0: [], d7: [], d14: [] },
    playbooks: { sales: [], marketing: [] },
    surveyNextQuestions: [],
    _fallback: true,
    _error: error.message
  }
  
  // ì‚¬ìš©ìì—ê²Œ ì•Œë¦¼
  return NextResponse.json({
    success: true,
    data: {
      analysisPack,
      decisionPack,
      warnings: ['LLM ìƒì„± ì‹¤íŒ¨ë¡œ ê¸°ë³¸ êµ¬ì¡°ë§Œ ì œê³µë©ë‹ˆë‹¤.']
    }
  })
}
```

### Fallback 2: ë¶€ë¶„ ì‹¤íŒ¨ ì‹œ
- Decision Cardsë§Œ ì‹¤íŒ¨ â†’ Action BoardëŠ” ì €ì¥
- Action Boardë§Œ ì‹¤íŒ¨ â†’ Decision CardsëŠ” ì €ì¥
- ê° ì„¹ì…˜ë³„ë¡œ ë…ë¦½ì ìœ¼ë¡œ Fallback ì²˜ë¦¬

---

# 11) ì„±ëŠ¥ ìµœì í™” ê°€ì´ë“œ

## ëŒ€ìš©ëŸ‰ ë°ì´í„° ì²˜ë¦¬

### ë¬¸ì œ: ì‘ë‹µ ìˆ˜ê°€ 1000ëª… ì´ìƒì¼ ë•Œ
**í•´ê²°ì±…:**
1. **ìƒ˜í”Œë§ ì „ëµ**
   ```typescript
   // êµì°¨í‘œ ìƒì„± ì‹œ ìƒ˜í”Œë§
   function buildCrosstabs(
     questions: Question[],
     answers: Answer[],
     submissions: Submission[],
     maxSampleSize = 1000
   ): Crosstab[] {
     const sampleSize = Math.min(submissions.length, maxSampleSize)
     const sampledSubmissions = sampleSubmissions(submissions, sampleSize)
     // ... êµì°¨í‘œ ê³„ì‚°
   }
   ```

2. **ë³‘ë ¬ ì²˜ë¦¬**
   ```typescript
   // ë¬¸í•­ë³„ í†µê³„ë¥¼ ë³‘ë ¬ë¡œ ê³„ì‚°
   const questionStatsPromises = questions.map(q => 
     computeQuestionStats(q, answers)
   )
   const questionStats = await Promise.all(questionStatsPromises)
   ```

3. **ìŠ¤íŠ¸ë¦¬ë° ì²˜ë¦¬**
   - ëŒ€ìš©ëŸ‰ ë°ì´í„°ëŠ” ì²­í¬ ë‹¨ìœ„ë¡œ ì²˜ë¦¬
   - ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ëª¨ë‹ˆí„°ë§

### ë¬¸ì œ: êµì°¨í‘œ ê³„ì‚°ì´ ëŠë¦¼
**í•´ê²°ì±…:**
- ìƒìœ„ Kê°œ ë¬¸í•­ë§Œ êµì°¨ë¶„ì„ (ê¸°ë³¸ K=5)
- ìºì‹±: ë™ì¼ ìº í˜ì¸ ì¬ë¶„ì„ ì‹œ ìºì‹œ í™œìš©

## ìºì‹± ì „ëµ

### ìºì‹œ í‚¤ ì„¤ê³„
```typescript
function getCacheKey(campaignId: string, sampleCount: number): string {
  return `analysis-pack:${campaignId}:${sampleCount}`
}
```

### ìºì‹œ ë¬´íš¨í™” ì¡°ê±´
- ìƒˆë¡œìš´ ì‘ë‹µ ì¶”ê°€ ì‹œ (`sampleCount` ë³€ê²½)
- ë¬¸í•­ ìˆ˜ì • ì‹œ (`questions` ë³€ê²½)
- ìº í˜ì¸ ë©”íƒ€ ë³€ê²½ ì‹œ

### ìºì‹œ ì €ì¥ì†Œ
- Redis (í”„ë¡œë•ì…˜)
- ë©”ëª¨ë¦¬ ìºì‹œ (ê°œë°œ)

## LLM í˜¸ì¶œ ìµœì í™”

### í”„ë¡¬í”„íŠ¸ í¬ê¸° ìµœì í™”
- Analysis Pack JSONì„ ì••ì¶• (ë¶ˆí•„ìš”í•œ í•„ë“œ ì œê±°)
- Evidence CatalogëŠ” ìƒìœ„ 10ê°œë§Œ í¬í•¨
- êµì°¨í‘œëŠ” í•˜ì´ë¼ì´íŠ¸ë§Œ í¬í•¨

### ë°°ì¹˜ ì²˜ë¦¬
- ì—¬ëŸ¬ ìº í˜ì¸ ë™ì‹œ ë¶„ì„ ì‹œ í ì‹œìŠ¤í…œ í™œìš©
- Rate limiting ì ìš© (Gemini API ì œí•œ ê³ ë ¤)

---

# 12) í™•ì¥ì„± ì„¤ê³„

## ìƒˆë¡œìš´ ë¶„ì„ íƒ€ì… ì¶”ê°€ ë°©ë²•

### Step 1: Analysis Pack í™•ì¥
```typescript
// lib/surveys/analysis/analysisPackSchema.ts
export const AnalysisPackSchema = z.object({
  version: z.literal('ap-1.0'),
  campaign: CampaignMetaSchema,
  questions: z.array(QuestionStatsSchema),
  evidenceCatalog: z.array(EvidenceItemSchema),
  crosstabs: z.array(CrosstabSchema),
  highlights: z.array(HighlightSchema),
  dataQuality: z.array(DataQualityMessageSchema),
  leadQueue: LeadQueueSchema.optional(),
  // ìƒˆë¡œìš´ ë¶„ì„ íƒ€ì… ì¶”ê°€
  sentimentAnalysis: SentimentAnalysisSchema.optional(), // ì˜ˆì‹œ
})
```

### Step 2: ê³„ì‚° í•¨ìˆ˜ ì¶”ê°€
```typescript
// lib/surveys/analysis/buildComputedMetrics.ts
export function buildSentimentAnalysis(
  textAnswers: Answer[]
): SentimentAnalysis {
  // ìƒˆë¡œìš´ ë¶„ì„ ë¡œì§
}
```

### Step 3: Evidence Catalogì— ì¶”ê°€
```typescript
// buildEvidenceCatalog í•¨ìˆ˜ì— ì¶”ê°€
sentimentAnalysis.forEach(sentiment => {
  evidence.push({
    id: `E${evidenceIdCounter++}`,
    title: `ê°ì • ë¶„ì„: ${sentiment.category}`,
    valueText: `${sentiment.positivePct}% ê¸ì •`,
    n: sentiment.sampleCount,
    source: 'sentiment',
  })
})
```

### Step 4: Decision Pack ìŠ¤í‚¤ë§ˆ í™•ì¥ (í•„ìš”ì‹œ)
- ìƒˆë¡œìš´ ë¶„ì„ íƒ€ì…ì´ ì˜ì‚¬ê²°ì •ì— ì˜í–¥ì„ ì£¼ëŠ” ê²½ìš°ì—ë§Œ í™•ì¥

## í”ŒëŸ¬ê·¸ì¸ êµ¬ì¡° (í–¥í›„)

```typescript
interface AnalysisPlugin {
  name: string
  version: string
  compute(analysisPack: AnalysisPack): Promise<PluginResult>
  render(result: PluginResult): string
}

// í”ŒëŸ¬ê·¸ì¸ ë“±ë¡
registerPlugin({
  name: 'sentiment-analysis',
  version: '1.0.0',
  compute: buildSentimentAnalysis,
  render: renderSentimentAnalysis,
})
```

## ì»¤ìŠ¤í„°ë§ˆì´ì§• í¬ì¸íŠ¸

1. **ë¦¬ë“œ ìŠ¤ì½”ì–´ë§ ë£°**
   - `buildLeadSignals()` í•¨ìˆ˜ì˜ ì ìˆ˜ ê³„ì‚° ë¡œì§ ìˆ˜ì •
   - ìº í˜ì¸ë³„ ì»¤ìŠ¤í„°ë§ˆì´ì§• ê°€ëŠ¥

2. **êµì°¨í‘œ í›„ë³´ ì„ ì •**
   - `selectCrosstabCandidates()` í•¨ìˆ˜ ìˆ˜ì •
   - ì—”íŠ¸ë¡œí”¼/CramÃ©r's V ì„ê³„ê°’ ì¡°ì •

3. **Linter ê·œì¹™**
   - `lintDecisionPack()` í•¨ìˆ˜ì— ìƒˆë¡œìš´ ê·œì¹™ ì¶”ê°€
   - ë¹„ì¦ˆë‹ˆìŠ¤ ìš”êµ¬ì‚¬í•­ì— ë§ê²Œ ì¡°ì •

---

# 13) í…ŒìŠ¤íŠ¸ ì „ëµ

## ë‹¨ìœ„ í…ŒìŠ¤íŠ¸

### í…ŒìŠ¤íŠ¸ ëŒ€ìƒ
```typescript
// lib/surveys/analysis/buildComputedMetrics.test.ts
describe('buildCrosstabs', () => {
  it('should generate crosstabs for valid question pairs', () => {
    const questions = [/* ... */]
    const answers = [/* ... */]
    const submissions = [/* ... */]
    
    const crosstabs = buildCrosstabs(questions, answers, submissions)
    
    expect(crosstabs).toHaveLength(5) // ìƒìœ„ 5ê°œ
    expect(crosstabs[0].cells).toBeDefined()
    expect(crosstabs[0].cells[0].lift).toBeGreaterThan(0)
  })
})

describe('buildEvidenceCatalog', () => {
  it('should generate unique evidence IDs', () => {
    const catalog = buildEvidenceCatalog(/* ... */)
    const ids = catalog.map(e => e.id)
    const uniqueIds = new Set(ids)
    
    expect(ids.length).toBe(uniqueIds.size)
  })
  
  it('should include all required evidence types', () => {
    const catalog = buildEvidenceCatalog(/* ... */)
    
    const hasQuestionStats = catalog.some(e => e.source === 'qStats')
    const hasCrosstab = catalog.some(e => e.source === 'crosstab')
    const hasLeadSignals = catalog.some(e => e.source === 'derived')
    
    expect(hasQuestionStats).toBe(true)
    expect(hasCrosstab).toBe(true)
    expect(hasLeadSignals).toBe(true)
  })
})
```

## í†µí•© í…ŒìŠ¤íŠ¸

### í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤
```typescript
// __tests__/integration/analysis-pipeline.test.ts
describe('Analysis Pipeline Integration', () => {
  it('should generate complete report from survey data', async () => {
    // 1. í…ŒìŠ¤íŠ¸ ë°ì´í„° ì¤€ë¹„
    const campaign = await createTestCampaign()
    const submissions = await createTestSubmissions(campaign.id, 50)
    
    // 2. Analysis Pack ìƒì„±
    const analysisPack = await buildAnalysisPack(campaign.id)
    expect(analysisPack.evidenceCatalog.length).toBeGreaterThan(0)
    
    // 3. Decision Pack ìƒì„±
    const decisionPack = await generateDecisionPack(analysisPack)
    expect(decisionPack.decisionCards.length).toBeGreaterThanOrEqual(3)
    
    // 4. Linter ê²€ì¦
    const linterResult = lintDecisionPack(decisionPack, analysisPack)
    expect(linterResult.isValid).toBe(true)
    
    // 5. ë³‘í•© ë° ìµœì¢… ë³´ê³ ì„œ ìƒì„±
    const finalReport = mergeAndRender(analysisPack, decisionPack)
    expect(finalReport).toContain('Evidence Catalog')
    expect(finalReport).toContain('Decision Cards')
  })
})
```

## Linter ê²€ì¦ í…ŒìŠ¤íŠ¸

```typescript
// lib/surveys/analysis/reportLinter.test.ts
describe('Linter', () => {
  it('should fail when Decision Cards < 3', () => {
    const decisionPack = {
      decisionCards: [/* 2ê°œë§Œ */],
      // ...
    }
    
    const result = lintDecisionPack(decisionPack)
    expect(result.isValid).toBe(false)
    expect(result.warnings.some(w => w.field === 'decisionCards')).toBe(true)
  })
  
  it('should fail when evidenceIds < 2', () => {
    const decisionPack = {
      decisionCards: [{
        evidenceIds: ['E1'], // 1ê°œë§Œ
        // ...
      }],
    }
    
    const result = lintDecisionPack(decisionPack)
    expect(result.isValid).toBe(false)
  })
})
```

## í’ˆì§ˆ ê²Œì´íŠ¸ í…ŒìŠ¤íŠ¸

```typescript
// E2E í…ŒìŠ¤íŠ¸
describe('Quality Gates', () => {
  it('should reject report with placeholder text', async () => {
    // LLMì´ í”Œë ˆì´ìŠ¤í™€ë”ë¥¼ ìƒì„±í•˜ë„ë¡ ìœ ë„
    const decisionPack = await generateDecisionPack(analysisPack)
    
    // í”Œë ˆì´ìŠ¤í™€ë” ê°ì§€
    const hasPlaceholder = decisionPack.actionBoard.d0.some(
      action => action.title.includes('â„¹ï¸ ì •ë³´:')
    )
    
    expect(hasPlaceholder).toBe(false)
  })
  
  it('should enforce number consistency', async () => {
    const analysisPack = { /* ... */ }
    const decisionPack = await generateDecisionPack(analysisPack)
    
    // ë³‘í•© í›„ ê²€ì¦
    const merged = mergeAnalysisAndDecisionPack(analysisPack, decisionPack)
    
    // Priority Queue í•©ê³„ ê²€ì¦
    const total = merged.priorityQueue.reduce((sum, q) => sum + q.count, 0)
    expect(total).toBe(analysisPack.campaign.sampleCount)
  })
})
```

---

# 14) ëª¨ë‹ˆí„°ë§ ë° ë¡œê¹…

## í’ˆì§ˆ ë©”íŠ¸ë¦­ ì¶”ì 

### ë©”íŠ¸ë¦­ ìˆ˜ì§‘
```typescript
interface AnalysisMetrics {
  campaignId: string
  sampleCount: number
  analysisPackGenerationTime: number
  decisionPackGenerationTime: number
  linterWarnings: number
  linterErrors: number
  retryCount: number
  finalQualityScore: number
}

async function trackAnalysisMetrics(metrics: AnalysisMetrics) {
  // ë¡œê¹…
  console.log('[Metrics]', JSON.stringify(metrics))
  
  // ë©”íŠ¸ë¦­ ìˆ˜ì§‘ ì„œë¹„ìŠ¤ë¡œ ì „ì†¡ (ì˜ˆ: Datadog, Prometheus)
  await sendMetrics({
    'analysis.generation_time': metrics.analysisPackGenerationTime,
    'analysis.linter_warnings': metrics.linterWarnings,
    'analysis.quality_score': metrics.finalQualityScore,
  })
}
```

### ì£¼ìš” ë©”íŠ¸ë¦­
- **ìƒì„± ì‹œê°„**: Analysis Pack ìƒì„± ì‹œê°„, Decision Pack ìƒì„± ì‹œê°„
- **í’ˆì§ˆ ì ìˆ˜**: Linter í†µê³¼ìœ¨, ì¬ì‹œë„ íšŸìˆ˜
- **ì—ëŸ¬ìœ¨**: LLM í˜¸ì¶œ ì‹¤íŒ¨ìœ¨, ìŠ¤í‚¤ë§ˆ ê²€ì¦ ì‹¤íŒ¨ìœ¨
- **ì‚¬ìš©ëŸ‰**: ì¼ì¼ ìƒì„± ë³´ê³ ì„œ ìˆ˜, í‰ê·  ì‘ë‹µ ìˆ˜

## ë””ë²„ê¹… ê°€ì´ë“œ

### ë¡œê·¸ ë ˆë²¨
```typescript
// ê°œë°œ í™˜ê²½
if (process.env.NODE_ENV === 'development') {
  console.log('[DEBUG] Analysis Pack:', JSON.stringify(analysisPack, null, 2))
  console.log('[DEBUG] LLM Prompt:', prompt)
  console.log('[DEBUG] LLM Response:', response)
}

// í”„ë¡œë•ì…˜ í™˜ê²½
console.log('[INFO] Analysis Pack generated', { campaignId, sampleCount })
console.warn('[WARN] Linter warnings', { warnings: linterResult.warnings })
console.error('[ERROR] Decision Pack generation failed', { error: error.message })
```

### ë””ë²„ê¹… ì²´í¬ë¦¬ìŠ¤íŠ¸
1. **Analysis Pack ìƒì„± ì‹¤íŒ¨**
   - ë¬¸í•­ ë°ì´í„° í™•ì¸
   - ì‘ë‹µ ë°ì´í„° í™•ì¸
   - êµì°¨í‘œ ê³„ì‚° ë¡œì§ í™•ì¸

2. **Decision Pack ìƒì„± ì‹¤íŒ¨**
   - LLM API í‚¤ í™•ì¸
   - í”„ë¡¬í”„íŠ¸ í¬ê¸° í™•ì¸ (í† í° ì œí•œ)
   - JSON íŒŒì‹± ì˜¤ë¥˜ í™•ì¸

3. **Linter ê²€ì¦ ì‹¤íŒ¨**
   - Evidence Catalog í™•ì¸
   - Decision Cards êµ¬ì¡° í™•ì¸
   - ìˆ«ì ì¼ê´€ì„± í™•ì¸

## ì•Œë¦¼ ì„¤ì •

### ì•Œë¦¼ ì¡°ê±´
- LLM í˜¸ì¶œ ì‹¤íŒ¨ìœ¨ > 10%
- Linter ì—ëŸ¬ìœ¨ > 20%
- í‰ê·  ìƒì„± ì‹œê°„ > 60ì´ˆ
- ì¼ì¼ ìƒì„± ë³´ê³ ì„œ ìˆ˜ < ì˜ˆìƒì¹˜ì˜ 50%

### ì•Œë¦¼ ì±„ë„
- Slack ì›¹í›…
- ì´ë©”ì¼ (ì¤‘ìš” ì˜¤ë¥˜ë§Œ)
- ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ

---

# 15) ë²„ì „ ê´€ë¦¬ ì „ëµ

## Analysis Pack ë²„ì „ í˜¸í™˜ì„±

### ë²„ì „ ê·œì¹™
- **Major ë²„ì „ (ap-1.0 â†’ ap-2.0)**: ìŠ¤í‚¤ë§ˆ í˜¸í™˜ì„± ê¹¨ì§
- **Minor ë²„ì „ (ap-1.0 â†’ ap-1.1)**: í•„ë“œ ì¶”ê°€ (í•˜ìœ„ í˜¸í™˜)
- **Patch ë²„ì „ (ap-1.0 â†’ ap-1.0.1)**: ë²„ê·¸ ìˆ˜ì •

### ë§ˆì´ê·¸ë ˆì´ì…˜ ê°€ì´ë“œ

#### ap-1.0 â†’ ap-1.1 ë§ˆì´ê·¸ë ˆì´ì…˜
```typescript
function migrateAnalysisPack(
  pack: AnalysisPackV1_0
): AnalysisPackV1_1 {
  return {
    ...pack,
    version: 'ap-1.1',
    // ìƒˆë¡œìš´ í•„ë“œ ì¶”ê°€ (ê¸°ë³¸ê°’)
    sentimentAnalysis: pack.sentimentAnalysis || null,
  }
}
```

#### ap-1.0 â†’ ap-2.0 ë§ˆì´ê·¸ë ˆì´ì…˜ (Breaking Change)
```typescript
function migrateAnalysisPackV2(
  pack: AnalysisPackV1_0
): AnalysisPackV2_0 {
  // êµ¬ì¡° ë³€ê²½ ì²˜ë¦¬
  return {
    version: 'ap-2.0',
    campaign: pack.campaign,
    // ìƒˆë¡œìš´ êµ¬ì¡°ë¡œ ë³€í™˜
    evidenceCatalog: pack.evidenceCatalog.map(e => ({
      ...e,
      // í•„ë“œëª… ë³€ê²½ ë“±
      metric: e.source, // source â†’ metric
    })),
  }
}
```

## í•˜ìœ„ í˜¸í™˜ì„± ì •ì±…

### ì½ê¸° í˜¸í™˜ì„±
- ì´ì „ ë²„ì „ Analysis Packë„ ì½ì„ ìˆ˜ ìˆì–´ì•¼ í•¨
- ë§ˆì´ê·¸ë ˆì´ì…˜ í•¨ìˆ˜ ì œê³µ

### ì“°ê¸° í˜¸í™˜ì„±
- ìµœì‹  ë²„ì „ìœ¼ë¡œ ì €ì¥ ê¶Œì¥
- ì´ì „ ë²„ì „ ì €ì¥ë„ í—ˆìš© (ê²½ê³  ë¡œê·¸)

## ë²„ì „ í™•ì¸ ë¡œì§
```typescript
function parseAnalysisPack(data: any): AnalysisPack {
  const version = data.version || 'ap-1.0'
  
  switch (version) {
    case 'ap-1.0':
      return migrateToLatest(data as AnalysisPackV1_0)
    case 'ap-1.1':
      return migrateToLatest(data as AnalysisPackV1_1)
    case 'ap-2.0':
      return data as AnalysisPackV2_0
    default:
      throw new Error(`Unsupported version: ${version}`)
  }
}
```

---

# 16) ì‹¤ì œ ì½”ë“œ ì˜ˆì‹œ

## TypeScript/Zod ìŠ¤í‚¤ë§ˆ ì˜ˆì‹œ

### Analysis Pack ìŠ¤í‚¤ë§ˆ
```typescript
// lib/surveys/analysis/analysisPackSchema.ts
import { z } from 'zod'

export const EvidenceItemSchema = z.object({
  id: z.string().regex(/^E\d+$/), // E1, E2, ...
  title: z.string().min(5),
  metric: z.enum(['ë¶„í¬', 'êµì°¨í‘œ', 'ë¦¬ë“œ ìŠ¤ì½”ì–´', 'ë°ì´í„° í’ˆì§ˆ']),
  valueText: z.string().min(3), // "34% (17/50)"
  n: z.number().int().positive(),
  source: z.enum(['qStats', 'crosstab', 'derived', 'dataQuality']),
  notes: z.string().optional(),
})

export const CrosstabHighlightSchema = z.object({
  id: z.string().regex(/^H\d+$/), // H1, H2, ...
  title: z.string().min(10),
  evidenceIds: z.array(z.string().regex(/^E\d+$/)).min(2),
  statement: z.string().min(20),
  confidence: z.enum(['Confirmed', 'Directional', 'Hypothesis']),
})

export const AnalysisPackSchema = z.object({
  version: z.literal('ap-1.0'),
  campaign: z.object({
    id: z.string().uuid(),
    title: z.string(),
    analyzedAtISO: z.string().datetime(),
    sampleCount: z.number().int().positive(),
    totalQuestions: z.number().int().positive(),
  }),
  questions: z.array(QuestionStatsSchema),
  evidenceCatalog: z.array(EvidenceItemSchema).min(3),
  crosstabs: z.array(CrosstabSchema),
  highlights: z.array(CrosstabHighlightSchema).max(5),
  dataQuality: z.array(DataQualityMessageSchema),
  leadQueue: LeadQueueSchema.optional(),
})

export type AnalysisPack = z.infer<typeof AnalysisPackSchema>
```

### Decision Pack ìŠ¤í‚¤ë§ˆ
```typescript
// lib/surveys/analysis/decisionPackSchema.ts
export const DecisionCardSchema = z.object({
  question: z.string().min(10),
  options: z.array(z.object({
    id: z.enum(['A', 'B', 'C']),
    title: z.string().min(5),
    description: z.string().min(10),
    expectedImpact: z.string().min(10),
    risks: z.string().optional(),
  })).min(2).max(3),
  recommendation: z.enum(['A', 'B', 'C']),
  evidenceIds: z.array(z.string().regex(/^E\d+$/)).min(2),
  confidence: z.enum(['Confirmed', 'Directional', 'Hypothesis']),
  rationale: z.string().min(20),
})

export const ActionItemSchema = z.object({
  owner: z.enum(['sales', 'marketing', 'ops']),
  title: z.string().min(5),
  targetCount: z.string().regex(/\d+(ëª…|ê±´)/), // "17ëª…", "8ê±´"
  kpi: z.string().min(5),
  steps: z.array(z.string().min(3)).min(1),
})

export const DecisionPackSchema = z.object({
  version: z.literal('dp-1.0'),
  decisionCards: z.array(DecisionCardSchema).min(3).max(5),
  actionBoard: z.object({
    d0: z.array(ActionItemSchema).optional(), // 24ì‹œê°„ ë‚´
    d7: z.array(ActionItemSchema).optional(), // 7ì¼ ë‚´
    d14: z.array(ActionItemSchema).optional(), // 14ì¼ ë‚´
  }),
  playbooks: z.object({
    sales: z.array(z.string()).min(1),
    marketing: z.array(z.string()).min(1),
  }),
  surveyNextQuestions: z.array(z.string()).min(1),
})

export type DecisionPack = z.infer<typeof DecisionPackSchema>
```

## API ì—”ë“œí¬ì¸íŠ¸ ì˜ˆì‹œ

```typescript
// app/api/event-survey/campaigns/[campaignId]/analysis/generate/route.ts
export async function POST(
  req: Request,
  { params }: { params: Promise<{ campaignId: string }> }
) {
  const { campaignId } = await params
  
  try {
    // 1. Analysis Pack ìƒì„±
    const analysisPack = await buildAnalysisPack(campaignId)
    
    // 2. Decision Pack ìƒì„± (ì¬ì‹œë„ í¬í•¨)
    let decisionPack: DecisionPack
    let retryCount = 0
    const maxRetries = 2
    
    while (retryCount <= maxRetries) {
      try {
        decisionPack = await generateDecisionPack(analysisPack)
        
        // 3. Linter ê²€ì¦
        const linterResult = lintDecisionPack(decisionPack, analysisPack)
        
        if (!linterResult.isValid) {
          // ì—ëŸ¬ ë ˆë²¨ ê²½ê³ ê°€ ìˆìœ¼ë©´ ì¬ì‹œë„
          const hasErrors = linterResult.warnings.some(w => w.level === 'error')
          if (hasErrors && retryCount < maxRetries) {
            retryCount++
            const qualityPrompt = buildQualityPrompt(linterResult.warnings)
            decisionPack = await generateDecisionPack(analysisPack, qualityPrompt)
            continue
          }
        }
        
        break
      } catch (error: any) {
        if (retryCount < maxRetries) {
          retryCount++
          await delay(Math.pow(2, retryCount) * 1000)
          continue
        }
        throw error
      }
    }
    
    // 4. ì„œë²„ ë³‘í•© ë° ê²€ì¦
    const merged = mergeAnalysisAndDecisionPack(analysisPack, decisionPack)
    
    // 5. ìµœì¢… ë³´ê³ ì„œ ìƒì„±
    const reportMD = renderFinalReportMD(merged)
    
    // 6. DB ì €ì¥
    await saveReport(campaignId, {
      analysisPack,
      decisionPack,
      reportMD,
      statisticsSnapshot: buildStatisticsSnapshot(analysisPack),
    })
    
    return NextResponse.json({ success: true, data: merged })
  } catch (error: any) {
    console.error('[Analysis] ìƒì„± ì‹¤íŒ¨:', error)
    return NextResponse.json(
      { success: false, error: error.message },
      { status: 500 }
    )
  }
}
```

## ë Œë”ë§ ì»´í¬ë„ŒíŠ¸ ì˜ˆì‹œ

```typescript
// components/analysis/DecisionCardsRenderer.tsx
export function DecisionCardsRenderer({ 
  cards 
}: { 
  cards: DecisionCard[] 
}) {
  return (
    <div className="space-y-6">
      <h2 className="text-2xl font-bold">ğŸ¯ Decision Cards</h2>
      {cards.map((card, index) => (
        <div key={index} className="border rounded-lg p-6">
          <h3 className="text-xl font-semibold mb-4">{card.question}</h3>
          
          {/* Options */}
          <div className="grid grid-cols-3 gap-4 mb-4">
            {card.options.map(option => (
              <div
                key={option.id}
                className={`p-4 rounded ${
                  option.id === card.recommendation
                    ? 'bg-blue-50 border-2 border-blue-500'
                    : 'bg-gray-50 border border-gray-200'
                }`}
              >
                <div className="font-bold mb-2">
                  {option.id === card.recommendation && 'â­ '}
                  {option.title}
                </div>
                <p className="text-sm text-gray-600">{option.description}</p>
                <p className="text-xs mt-2">
                  <strong>ê¸°ëŒ€ íš¨ê³¼:</strong> {option.expectedImpact}
                </p>
              </div>
            ))}
          </div>
          
          {/* Recommendation */}
          <div className="bg-green-50 border-l-4 border-green-500 p-4">
            <p className="font-semibold">ì¶”ì²œ: {card.recommendation}</p>
            <p className="text-sm mt-2">{card.rationale}</p>
          </div>
          
          {/* Evidence */}
          <div className="mt-4">
            <p className="text-sm text-gray-600">
              <strong>ê·¼ê±°:</strong> {card.evidenceIds.join(', ')}
            </p>
            <span className={`inline-block mt-2 px-2 py-1 rounded text-xs ${
              card.confidence === 'Confirmed' ? 'bg-green-100' :
              card.confidence === 'Directional' ? 'bg-yellow-100' :
              'bg-gray-100'
            }`}>
              {card.confidence}
            </span>
          </div>
        </div>
      ))}
    </div>
  )
}
```

---

# 17) ìš´ì˜ ê°€ì´ë“œë¼ì¸

## ë°°í¬ ì²´í¬ë¦¬ìŠ¤íŠ¸

### ë°°í¬ ì „ í™•ì¸ì‚¬í•­
- [ ] ëª¨ë“  ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ í†µê³¼
- [ ] í†µí•© í…ŒìŠ¤íŠ¸ í†µê³¼
- [ ] Linter ê²€ì¦ í…ŒìŠ¤íŠ¸ í†µê³¼
- [ ] ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ ì™„ë£Œ (1000ëª… ì´ìƒ ì‘ë‹µ)
- [ ] ë¬¸ì„œí™” ì™„ë£Œ
- [ ] í™˜ê²½ ë³€ìˆ˜ ì„¤ì • í™•ì¸ (`GOOGLE_API_KEY` ë“±)

### ë°°í¬ ìˆœì„œ
1. **Staging í™˜ê²½ ë°°í¬**
   - í…ŒìŠ¤íŠ¸ ë°ì´í„°ë¡œ ê²€ì¦
   - í’ˆì§ˆ ë©”íŠ¸ë¦­ í™•ì¸

2. **í”„ë¡œë•ì…˜ ë°°í¬ (Canary)**
   - ì†Œìˆ˜ ìº í˜ì¸ì—ë§Œ ì ìš©
   - ëª¨ë‹ˆí„°ë§ ê°•í™”

3. **ì „ë©´ ë°°í¬**
   - ëª¨ë“  ìº í˜ì¸ì— ì ìš©
   - ë¡¤ë°± ê³„íš ì¤€ë¹„

## íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ê°€ì´ë“œ

### ë¬¸ì œ 1: LLM ìƒì„± ì‹œê°„ì´ ë„ˆë¬´ ê¹€ (>60ì´ˆ)
**ì›ì¸:**
- í”„ë¡¬í”„íŠ¸ê°€ ë„ˆë¬´ í¼
- ë„¤íŠ¸ì›Œí¬ ì§€ì—°

**í•´ê²°ì±…:**
- Analysis Pack JSON ì••ì¶•
- Evidence Catalog ìƒìœ„ 10ê°œë§Œ í¬í•¨
- íƒ€ì„ì•„ì›ƒ ì„¤ì • (60ì´ˆ)

### ë¬¸ì œ 2: Linter ì—ëŸ¬ìœ¨ì´ ë†’ìŒ (>20%)
**ì›ì¸:**
- í”„ë¡¬í”„íŠ¸ê°€ ë¶ˆì¶©ë¶„
- LLM ëª¨ë¸ ì„±ëŠ¥ ì´ìŠˆ

**í•´ê²°ì±…:**
- í”„ë¡¬í”„íŠ¸ ê°•í™” (ì˜ˆì‹œ ì¶”ê°€)
- ëª¨ë¸ ë²„ì „ ì—…ê·¸ë ˆì´ë“œ
- ì¬ì‹œë„ ë¡œì§ ê°œì„ 

### ë¬¸ì œ 3: ìˆ«ì ì¼ê´€ì„± ì˜¤ë¥˜
**ì›ì¸:**
- LLMì´ Evidence Catalogë¥¼ ë¬´ì‹œí•˜ê³  ìˆ«ì ìƒì„±

**í•´ê²°ì±…:**
- ì„œë²„ ë³‘í•© ë¡œì§ ê°•í™”
- ì €ì¥ ì „ ìµœì¢… ê²€ì¦ ì¶”ê°€

## ì„±ëŠ¥ íŠœë‹ íŒ

1. **ìºì‹± í™œìš©**
   - ë™ì¼ ìº í˜ì¸ ì¬ë¶„ì„ ì‹œ ìºì‹œ ì‚¬ìš©
   - TTL: 1ì‹œê°„

2. **ë³‘ë ¬ ì²˜ë¦¬**
   - ë¬¸í•­ë³„ í†µê³„ ë³‘ë ¬ ê³„ì‚°
   - êµì°¨í‘œ ìŒ ë³‘ë ¬ ê³„ì‚°

3. **ë°ì´í„° ìƒ˜í”Œë§**
   - 1000ëª… ì´ìƒ ì‹œ ìƒ˜í”Œë§ (1000ëª…)
   - ë¬´ì‘ìœ„ ìƒ˜í”Œë§ (stratified)

---

# 18) ë§ˆì´ê·¸ë ˆì´ì…˜ ì „ëµ

## ê¸°ì¡´ v0.9 â†’ v1.0 ì „í™˜

### ë§ˆì´ê·¸ë ˆì´ì…˜ ìŠ¤í¬ë¦½íŠ¸
```typescript
// scripts/migrate-v09-to-v10.ts
async function migrateV09ToV10() {
  const reports = await getV09Reports()
  
  for (const report of reports) {
    try {
      // 1. ê¸°ì¡´ Action Pack V0.9 íŒŒì‹±
      const v09Pack = report.action_pack as ActionPackV09
      
      // 2. Analysis Pack ìƒì„± (ê¸°ì¡´ ë°ì´í„°ë¡œ ì¬ìƒì„±)
      const analysisPack = await rebuildAnalysisPack(report.campaign_id)
      
      // 3. Decision Pack ìƒì„± (ê¸°ì¡´ insightsë¥¼ Decision Cardsë¡œ ë³€í™˜)
      const decisionPack = convertV09ToDecisionPack(v09Pack, analysisPack)
      
      // 4. ë³‘í•© ë° ì €ì¥
      const merged = mergeAnalysisAndDecisionPack(analysisPack, decisionPack)
      await updateReport(report.id, {
        analysis_pack: analysisPack,
        decision_pack: decisionPack,
        report_md: renderFinalReportMD(merged),
      })
      
      console.log(`[Migration] Report ${report.id} migrated`)
    } catch (error) {
      console.error(`[Migration] Failed for report ${report.id}:`, error)
    }
  }
}
```

### ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜
- ê¸°ì¡´ `action_pack` í•„ë“œëŠ” ìœ ì§€ (í•˜ìœ„ í˜¸í™˜)
- ìƒˆë¡œìš´ `analysis_pack`, `decision_pack` í•„ë“œ ì¶”ê°€
- ì ì§„ì  ë§ˆì´ê·¸ë ˆì´ì…˜ (ë°±ê·¸ë¼ìš´ë“œ ì‘ì—…)

## ë¡¤ë°± ê³„íš

### ë¡¤ë°± ì¡°ê±´
- ì—ëŸ¬ìœ¨ > 30%
- í‰ê·  ìƒì„± ì‹œê°„ > 120ì´ˆ
- ì‚¬ìš©ì ë¶ˆë§Œ > ì„ê³„ê°’

### ë¡¤ë°± ì ˆì°¨
1. ìƒˆ ë²„ì „ ë¹„í™œì„±í™”
2. ê¸°ì¡´ v0.9ë¡œ ë³µê·€
3. ë¬¸ì œ ë¶„ì„ ë° ìˆ˜ì •
4. ì¬ë°°í¬

---

## ê²°ë¡ 

"ê°œì„  ì ìš© + ë¬¸í•­ ë°”ë€Œì–´ë„ ê·¸ëŒ€ë¡œ ì‚¬ìš©"ì€ ê°€ëŠ¥í•˜ê³ , ìœ„ êµ¬ì¡°ê°€ ê°€ì¥ ì•ˆì •ì ì…ë‹ˆë‹¤.

ì´ ë¬¸ì„œëŠ” **ì„¤ê³„ë¶€í„° êµ¬í˜„, ìš´ì˜ê¹Œì§€** ì „ì²´ ë¼ì´í”„ì‚¬ì´í´ì„ ë‹¤ë£¨ëŠ” ì¢…í•© ê°€ì´ë“œì…ë‹ˆë‹¤. ê° ì„¹ì…˜ì€ ë…ë¦½ì ìœ¼ë¡œ ì°¸ì¡° ê°€ëŠ¥í•˜ë©°, ì‹¤ì œ êµ¬í˜„ ì‹œ ë‹¨ê³„ë³„ë¡œ ë”°ë¼ê°€ë©´ ë©ë‹ˆë‹¤.

